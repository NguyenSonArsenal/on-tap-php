<!DOCTYPE html>
<!--suppress ALL -->
<html>
<head>
    <meta charset="utf-8">
    <title>JavaScript-Array</title>
    <script type="text/javascript" src="../helper.js"></script>
</head>
<body>

<h2>Write a JavaScript function to find the difference of two arrays</h2>

<script>

    // Lấy ra tất cả giá trị của mảng n chiêu
    function flatten(arr, result = []) {

        var len = arr.length;

        for (var i=0; i<len; i++)
        {
            if (arr[i].constructor == Array)
            {
                flatten(arr[i], result);
            }
            else
            {
                result.push(arr[i]);
            }
        }
        return result;
    }

    function difference(a1, a2) {
        a1 = flatten(a1);
        a2 = flatten(a2);

        console.log(a1);
        console.log(a2);

        var result = [];

        for (var i=0; i<a1.length; i++)
        {
            if (a2.indexOf(a1[i]) < 0)
            {
                result.push(a1[i]);
            }
        }

        for (var i=0; i<a2.length; i++)
        {
            if (a1.indexOf(a2[i]) < 0)
            {
                result.push(a2[i]);
            }
        }

        return result;

    }

    var a1 = [1, 2, 3];
    var a2 = [1, [2], [3, [[4]]],[5,6]];

    var result = difference(a1, a2);

    document.write('Result difference: '+result);

    document.write('<br>');
    document.write('====================');
    document.write('<br>');

</script>


</body>
</html>